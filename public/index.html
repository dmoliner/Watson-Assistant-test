<!--
 * Copyright 2015 IBM Corp. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *-->
<!DOCTYPE html>
<html>
<head>
  <base href="/">
  <title>Conversation Chat App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta property="og:image" content="conversation.svg" />
  <meta property="og:title" content="Conversation Chat Simple" />
  <meta property="og:description" content="Sample application that shows how to use the Conversation API to identify user intents" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="css/app.css">
  <link rel="stylesheet"
        type="text/css"
        href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
</head>
<body style="background-image: url('https://bit.ly/2JEgqgA'); background-repeat: no-repeat; background-size:cover">
  <div id="view-change-button" class="button" onclick="PayloadPanel.togglePanel()">
    <img class="option full" src="../img/Chat Button.png">
    <img class="option not-full" src="../img/Code Button.png">
  </div>
  <div id="contentParent" class="container" style="margin-top:195px; margin-left:15%; position:absolute">
    <div id="chat-column-holder" class="row">
      <div id="boxchat" class="col-6 col-md-4" style="float: right; position: absolute; z-index: 9; top: -1px; left: 0px;">
          <div id="headerboxchat" class="panel panel-primary" style="cursor:move; z-index:10">
              <div id="accordion" class="panel-heading" >
                  <span class="glyphicon glyphicon-comment"></span> Watson Synectic 
                  <div class="btn-group pull-right">
                      <a type="button" class="btn btn-default btn-xs" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true">
                          <span class="glyphicon glyphicon-chevron-down"></span>
                      </a>
                  </div>
              </div>
          <div class="panel-collapse" id="collapseOne">    
         <div class="panel-body" style="overflow-y: hidden; height: 280px;">
        <div id="scrollingChat"></div>
        <label for="textInput" class="inputOutline">
          <input id="textInput" class="input responsive-column" placeholder="Escribe tu texto aquÃ­" type="text" onkeydown="ConversationPanel.inputKeyDown(event, this)">
        </label>
      </div>      
      </div>
      </div>
    </div>
    </div>
    </div>
    <div id="payload-column" class="fixed-column content-column" style="float: right">
      <div id="payload-initial-message">
        Type something to see the output
      </div>
      <div id="payload-request" class="payload"></div>
      <div id="payload-response" class="payload"></div>
    </div>
    <div id="logo" style="float:left; margin-top:3%; margin-left:4%"><img src="https://bit.ly/2Lroe2n" style="width:350px"></div>
  </div>
  <script>window.onload = function() {
    console.log("carga de codigo de dragElement");
    
  dragElement(document.getElementById(("boxchat")));

function dragElement(elmnt) {
  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  if (document.getElementById(elmnt.id + "headerboxchat")) {
    /* if present, the header is where you move the DIV from:*/
    document.getElementById(elmnt.id + "headerboxchat").onmousedown = dragMouseDown;
  } else {
    /* otherwise, move the DIV from anywhere inside the DIV:*/
    elmnt.onmousedown = dragMouseDown;
  }

  function dragMouseDown(e) {
    e = e || window.event;
    // get the mouse cursor position at startup:
    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement;
    // call a function whenever the cursor moves:
    document.onmousemove = elementDrag;
  }

  function elementDrag(e) {
    e = e || window.event;
    // calculate the new cursor position:
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    // set the element's new position:
    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
  }

  function closeDragElement() {
    /* stop moving when mouse button is released:*/
    document.onmouseup = null;
    document.onmousemove = null;
  }
  }
};
  </script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="js/common.js"></script>
  <script src="js/api.js"></script>
  <script src="js/conversation.js"></script>
  <script src="js/payload.js"></script>
  <script src="js/global.js"></script>  

</body>
</html>
